## Установка Docker

Запустите следующую команду для быстрой установки Docker:

```sh
curl -fsSL https://get.docker.com | bash -s docker
```

## Быстрый старт

### Инициализация через веб-интерфейс

PPanel поддерживает веб-инициализацию, что упрощает процесс ручной настройки.

### Шаги инициализации

1. **Создайте необходимые конфигурационные файлы**: сначала вручную создайте и настройте файл `/app/etc/ppanel.yaml` для последующей конфигурации.

2. **Запустите контейнер Docker**:

   ```sh
   docker run -d \
     --network host \
     --name ppanel-server \
     -v /app/etc/ppanel.yaml:/app/etc/ppanel.yaml \
     --restart=always \
     --log-opt max-size=10m \
     --log-opt max-file=3 \
     ppanel/ppanel-server:latest
   ```

3. **Перейдите на страницу инициализации**: в браузере перейдите по адресу `http://IP-сервера:8080/init`.

4. **Завершите настройку**: следуйте инструкциям для настройки учетной записи администратора, конфигурации базы данных MySQL и сервера Redis.

5. **Нажмите кнопку инициализации**: после завершения настройки нажмите кнопку "Инициализация", приложение автоматически сохранит конфигурацию и перезапустится.

   > **Примечание**: PPanel по умолчанию использует порт **8080**, убедитесь, что этот порт доступен, при необходимости настройте параметры брандмауэра.

## Развертывание с помощью Docker

PPanel по умолчанию использует порт **8080**, убедитесь, что этот порт доступен, при необходимости настройте параметры брандмауэра.

Если вы не используете веб-инициализацию, вы можете войти с помощью учетной записи администратора по умолчанию:

- **Имя пользователя**: `admin@ppanel.dev`
- **Пароль**: `password`

> **Примечание**: после первого входа обязательно измените пароль по умолчанию для обеспечения безопасности.

### Создание необходимых конфигурационных файлов

Перед началом развертывания Docker сначала вручную создайте и настройте файл `/app/etc/ppanel.yaml`, чтобы обеспечить нормальную работу системы. Для подробных примеров конфигурационных параметров обратитесь к разделу [Примеры конфигурации](#примеры-конфигурации) документации.

### Запуск контейнера Docker

Запустите следующую команду для старта контейнера:

```sh
docker run -d \
  --network host \
  --name ppanel-server \
  -v /app/etc/ppanel.yaml:/app/etc/ppanel.yaml \
  --restart=always \
  --log-opt max-size=10m \
  --log-opt max-file=3 \
  ppanel/ppanel-server:latest
```

## Развертывание с помощью Docker Compose

PPanel по умолчанию использует порт **8080**, убедитесь, что этот порт доступен, при необходимости настройте параметры брандмауэра.

### Создание необходимых конфигурационных файлов

Перед началом развертывания Docker Compose сначала вручную создайте и настройте файл `/app/etc/ppanel.yaml`, чтобы обеспечить нормальную работу системы. Для подробных примеров конфигурационных параметров обратитесь к разделу [Примеры конфигурации](#примеры-конфигурации) документации.

### Создание конфигурационного файла Docker Compose

Создайте файл `docker-compose.yml`:

```yaml
version: '3'

services:
  ppanel-server:
    image: ppanel/ppanel-server:latest
    container_name: ppanel-server
    network_mode: host
    volumes:
      - /app/etc/ppanel.yaml:/app/etc/ppanel.yaml
    restart: always
    logging:
      driver: 'json-file'
      options:
        max-size: '10m'
        max-file: '3'
```

### Запуск сервиса

Запустите следующую команду для старта сервиса:

```sh
docker compose up -d
```

## Важные советы

- **Безопасность**: обязательно измените пароль и ключи по умолчанию для обеспечения безопасности приложения.
- **Настройка портов**: убедитесь, что необходимые порты открыты, чтобы избежать проблем с сетевым доступом.
- **Постоянство данных**: рекомендуется монтировать тома данных при запуске контейнера для обеспечения постоянства данных.

## Примеры конфигурации

Вот пример конфигурации для `ppanel.yaml`:

```yaml
Host: 0.0.0.0 # IP для прослушивания
Port: 8080 # Порт для работы
Debug: true # Включить режим отладки
JwtAuth:
  AccessSecret: your-secret-key # Секретный ключ токена (пожалуйста, измените)
  AccessExpire: 604800 # Срок действия токена (в секундах)
Logger:
  FilePath: ./ppanel.log # Путь к файлу журнала
  MaxSize: 50
  MaxBackup: 3
  MaxAge: 30
  Compress: true
  LogType: json
  Level: info # Уровень журнала: info, debug, error
MySQL:
  Addr: 127.0.0.1:3306 # Адрес базы данных
  Dbname: vpnboard # Имя базы данных
  Username: root # Имя пользователя базы данных
  Password: your-password # Пароль базы данных (пожалуйста, измените)
  Config: charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai
  MaxIdleConns: 10
  MaxOpenConns: 10
  LogMode: dev
  LogZap: false
  SlowThreshold: 1000
Redis:
  Host: 127.0.0.1:6379
  Pass: # Пароль Redis (если есть)
  DB: 0

Administer:
  Password: password # Пароль администратора (должен быть изменен)
  Email: admin@ppanel.dev # Адрес электронной почты администратора
```

> **Примечание**: после изменения конфигурационного файла перезапустите контейнер Docker, чтобы применить изменения.

import Giscus from '@/components/giscus';

<Giscus />
